<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Author - Home Page</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    
    <style>
        button {
            background-color: rgb(0, 127, 255);
            color : white;
            border-radius: 12px;
        }

        button:hover {
            cursor : pointer;
            box-shadow : rgba(11, 13, 14, 0.8) 0px 2px 4px 0px;
        }

        .author-home-details {
            text-align: center;

            font-family : monospace;
        }

        #author-home-blog-title {
            font-size : 60px;
        }

        #author-home-blog-subtitle {
            font-size : 40px;
        }

        #author-home-name {
            font-size : 30px;
        }

        #author-home-label {
            background-color: rgba(var(--bs-info-rgb), .5);
            position: absolute;
            top: 0;
            left: 0;

            margin: 10px;
            padding : 10px;
        }

        #author-home-settings-button {
            position: absolute;
            top: 0;
            right: 0;
            margin: 10px;
            padding : 10px;

            font-size : 30px;
        }

        a {
            text-decoration: none;
        }

        #author-home-create-new-draft {
            padding : 10px;

            font-size : 30px;
        }

        ul {
            list-style: none;
            margin-top : 50px;
            margin-bottom : 50px;
            margin-right : 30px;
            margin-left : 30px;


            border-style : solid;
            border-width : 5px;

            padding : 20px;

            background-color: blanchedalmond;
            font-size : 30px;
        }

        .edit-article-button, .delete-article-button, .read-article-button, .publish-article-button {
            top : 0px;
            bottom : auto;

            font-size : 20px;
        }

        li {
            list-style-type: none;

            display : flex;
            flex-wrap: wrap;
        }

        #author-home-create-new-draft {
            margin-left : 30px;
        }
        
    </style>
</head>
<body>
    <!-- Displays that current page is author page -->
    <h1 id="author-home-label">AUTHOR</h1>

    <!-- Blog title, blog subtitle and author name -->
    <h1 class="author-home-details" id="author-home-blog-title"><%= author.blogTitle %></h1>
    <h1 class="author-home-details" id="author-home-blog-subtitle"><%= author.blogSubtitle %></h1>
    <h1 class="author-home-details" id="author-home-name"><%= author.authorName %></h1>

    <!-- link to go to settings -->
    <a href="author-settings"><button class="btn btn-primary" id="author-home-settings-button" >SETTINGS</button></a>

    <!-- create new draft button -->
    <a href="create-new-article"><button class="btn btn-primary" id="author-home-create-new-draft">Create new draft</button></a>

    <!-- show all articles -->
    <li>
        <% for (article of articles) { %>
            <ul>
                <!-- first line -->
                <span class="article-name"> <%= article.articleName %> </span>
                <% if (article.state == 'draft') { %>
                    <a href="author-edit-article-page?articleID=<%= article.articleID %>"><button class="edit-article-button btn btn-primary articleEditButtons">EDIT</button></a>
                    <a href="author-home-publish-article?articleID=<%= article.articleID %>"><button class="publish-article-button btn btn-primary articleEditButtons">PUBLISH</button></a>
                <% } else { %>
                    <a href="reader-article-page?articleID=<%= article.articleID %>&source=author-home"><button class="read-article-button btn btn-primary articleEditButtons">READ</button></a>
                <% } %>  

                <a href="author-home-delete-article?articleID=<%= article.articleID %>"><button class="delete-article-button btn btn-primary articleEditButtons">DELETE</button></a>

                <br>

                <!-- second line -->
                <p class="article-state">State : <%= article.state.toUpperCase() %></p>

                <% if (article.state == 'draft') { %>
                    <p class="article-last-modified">Last modified : <%= article.lastModified %> </p>
                    <p class="article-created-on">Created on : <%= article.createdOn %> </p>
                <% } else { %>
                    <p class="article-published-on">Published on : <%= article.publishedOn %> </p>
                <% } %>

            </ul>
        <% } %>
    </li>
</body>
</html>